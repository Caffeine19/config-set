{
  "$schema": "vscode://schemas/settings/user",

  "vim.foldfix": true,
  "vim.easymotion": true,
  "vim.leader": "<space>",
  "vim.hlsearch": true,
  "vim.useSystemClipboard": true,
  "vim.sneak": true,
  "vim.matchpairs": "(:),{:},[:],<:>",

  // auto switch input method
  "vim.autoSwitchInputMethod.enable": true,
  "vim.autoSwitchInputMethod.defaultIM": "com.apple.keylayout.ABC",
  "vim.autoSwitchInputMethod.obtainIMCmd": "/opt/homebrew/bin/im-select",
  "vim.autoSwitchInputMethod.switchIMCmd": "/opt/homebrew/bin/im-select {im}",

  // easy motion colors
  // terminal.ansiRed
  "vim.easymotionMarkerForegroundColorOneChar": "#ff7b72",
  // terminal.ansiYellow
  "vim.easymotionMarkerForegroundColorTwoCharFirst": "#d29922",
  // terminal.ansiYellowBright
  "vim.easymotionMarkerForegroundColorTwoCharSecond": "#e3b341",

  "vim.handleKeys": {
    // enable all Ctrl key bindings
    // disable if on Windows
    // "<C-b>": false,
    // "<C-f>": false,
    // "<C-p>": false,
    // "<C-x>": false,
    // "<C-c>": false,
    // "<C-v>": false
  },
  "vim.insertModeKeyBindings": [
    {
      "before": ["j", "j"],
      "after": ["<Esc>"]
    }
  ],
  "vim.normalModeKeyBindings": [
    // navigation
    {
      "before": ["g", "s"],
      "commands": ["workbench.action.gotoSymbol"]
    },
    {
      "before": ["g", "m"],
      "commands": ["editor.action.goToImplementation"]
    },

    {
      "before": ["[", "e"],
      "commands": ["editor.action.marker.prevInFiles"]
    },
    {
      "before": ["]", "e"],
      "commands": ["editor.action.marker.nextInFiles"]
    },
    {
      "before": ["<leader>", "s"],
      "commands": ["workbench.action.quickTextSearch"]
    },

    // file explorer
    {
      "before": ["<leader>", "e", "f"],
      "commands": ["workbench.view.explorer"]
    },
    {
      "before": ["<leader>", "e", "o"],
      "commands": ["outline.focus"]
    },

    // git
    {
      // changes view
      "before": ["<leader>", "g", "c"],
      "commands": ["workbench.view.scm"]
    },
    {
      // git graph
      "before": ["<leader>", "g", "g"],
      "commands": [
        "git-graph.view",

        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth"
      ]
    },
    {
      // diff with previous
      "before": ["<leader>", "g", ";"],
      "commands": [
        "gitlens.diffWithPrevious",

        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth"
      ]
    },
    {
      // toggle diff editor
      "before": ["<leader>", "g", "'"],
      "commands": ["chatEditor.action.toggleDiff"]
    },
    {
      // switch side
      "before": ["<leader>", "g", "s"],
      "commands": ["diffEditor.switchSide"]
    },
    {
      // discard changes
      "before": ["<leader>", "g", "d"],
      "commands": ["git.clean"]
    },

    // layout
    {
      "before": ["<leader>", "2"],
      "commands": ["workbench.action.editorLayoutTwoColumns"]
    },
    {
      "before": ["<leader>", "3"],
      "commands": ["workbench.action.editorLayoutThreeColumns"]
    },

    // close editors
    {
      "before": ["<leader>", "x"],
      "commands": ["workbench.action.closeActiveEditor"]
    },
    {
      "before": ["<leader>", "x", "g"],
      "commands": ["workbench.action.closeEditorsInGroup"]
    },
    {
      "before": ["<leader>", "x", "a"],
      "commands": ["workbench.action.closeAllEditors"]
    },
    {
      "before": ["<leader>", "x", "o"],
      "commands": ["workbench.action.closeOtherEditors"]
    },

    // file utils
    {
      "before": ["<leader>", "f", "a"],
      "commands": ["fileutils.newFileAtRoot"]
    },
    {
      "before": ["<leader>", "f", "A"],
      "commands": ["fileutils.newFolderAtRoot"]
    },
    {
      "before": ["<leader>", "f", "r"],
      "commands": ["fileutils.renameFile"]
    },
    {
      "before": ["<leader>", "f", "d"],
      "commands": ["fileutils.removeFile"]
    },

    // codes
    {
      "before": ["<leader>", "c", "r"],
      "commands": ["editor.action.rename"]
    },

    // resize
    {
      "before": ["<C-w>", ">"],
      "commands": [
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth",
        "workbench.action.increaseViewWidth"
      ]
    },
    {
      "before": ["<C-w>", "<"],
      "commands": [
        "workbench.action.decreaseViewWidth",
        "workbench.action.decreaseViewWidth",
        "workbench.action.decreaseViewWidth",
        "workbench.action.decreaseViewWidth",
        "workbench.action.decreaseViewWidth"
      ]
    }
  ],
  //使用affinity，提高性能
  "extensions.experimental.affinity": {
    "asvetliakov.vscode-neovim": 1,
    "vscodevim.vim": 1
  }
}
